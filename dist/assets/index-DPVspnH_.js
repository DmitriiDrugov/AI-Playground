(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Y(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function re(t){return t!=null&&typeof t.GetEnumerator=="function"}function oe(t){return t!=null&&typeof t.CompareTo=="function"}function se(t){return t!=null&&typeof t.Equals=="function"}function ie(t){return t!=null&&typeof t.GetHashCode=="function"}function le(t){return t!=null&&typeof t.Dispose=="function"}function M(t){le(t)&&t.Dispose()}function O(){return null}function Lt(t,e){var n,r;return((n=Object.getPrototypeOf(t))==null?void 0:n.constructor)===((r=Object.getPrototypeOf(e))==null?void 0:r.constructor)}class ce{constructor(e){this.iter=e,this.current=O()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const e=this.iter.next();return this.current=e.value,!e.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function C(t){return re(t)?t.GetEnumerator():new ce(t[Symbol.iterator]())}function dt(t){return{next(){const e=t["System.Collections.IEnumerator.MoveNext"](),n=e?t["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!e,value:n}}}}function St(t,e){return t.toString(10).padStart(e,"0")}function It(t){const e=t;return typeof e.offset=="number"?e.offset:t.kind===1?0:t.getTimezoneOffset()*-6e4}class L{static id(e){return L.idMap.has(e)||L.idMap.set(e,++L.count),L.idMap.get(e)}}L.idMap=new WeakMap;L.count=0;function Bt(t){let e=0,n=5381;const r=t.length;for(;e<r;)n=n*33^t.charCodeAt(e++);return n}function xt(t){return t*2654435761|0}function ae(t){return Bt(t.toString(32))}function ht(t){let e=0;const n=t.length;for(let r=0;r<n;r++){const o=t[r];e=(e<<5)+e^o}return e}function ue(t){return t.getTime()}function fe(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r++)n[r]=et(t[r]);return ht(n)}function et(t){var e;if(t==null)return 0;switch(typeof t){case"boolean":return t?1:0;case"number":return xt(t);case"bigint":return ae(t);case"string":return Bt(t);default:{if(ie(t))return t.GetHashCode();if(Y(t))return fe(t);if(t instanceof Date)return ue(t);if(((e=Object.getPrototypeOf(t))==null?void 0:e.constructor)===Object){const n=Object.values(t).map(r=>et(r));return ht(n)}else return xt(L.id(t))}}}function de(t,e,n){if(t==null)return e==null;if(e==null||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function ft(t,e){return de(t,e,x)}function he(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let o=0;o<n.length;o++)if(n[o]!==r[o]||!x(t[n[o]],e[r[o]]))return!1;return!0}function x(t,e){var n;return t===e?!0:t==null?e==null:e==null?!1:se(t)?t.Equals(e):Y(t)?Y(e)&&ft(t,e):typeof t!="object"?!1:t instanceof Date?e instanceof Date&&Ft(t,e)===0:((n=Object.getPrototypeOf(t))==null?void 0:n.constructor)===Object&&he(t,e)}function Ft(t,e){let n,r;return"offset"in t&&"offset"in e?(n=t.getTime(),r=e.getTime()):(n=t.getTime()+It(t),r=e.getTime()+It(e)),n===r?0:n<r?-1:1}function kt(t,e){return t===e?0:t<e?-1:1}function me(t,e,n){if(t==null)return e==null?0:1;if(e==null)return-1;if(t.length!==e.length)return t.length<e.length?-1:1;for(let r=0,o=0;r<t.length;r++)if(o=n(t[r],e[r]),o!==0)return o;return 0}function pe(t,e){return me(t,e,j)}function ge(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let o=0,s=0;o<n.length;o++){const i=n[o];if(i!==r[o])return i<r[o]?-1:1;if(s=j(t[i],e[i]),s!==0)return s}return 0}function j(t,e){var n;return t===e?0:t==null?e==null?0:-1:e==null?1:oe(t)?t.CompareTo(e):Y(t)?Y(e)?pe(t,e):-1:typeof t!="object"?t<e?-1:1:t instanceof Date?e instanceof Date?Ft(t,e):-1:((n=Object.getPrototypeOf(t))==null?void 0:n.constructor)===Object?ge(t,e):-1}function P(t){let e=t;return(...n)=>{if(n.length===0)return e;e=n[0]}}function be(t,e,n,r,o){if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n))n.set(t.subarray(e,e+o),r);else for(let s=0;s<o;++s)n[r+s]=t[e+s]}function ye(t){let e=0,n="[";for(const r of t){if(e===0)n+=R(r);else if(e===100){n+="; ...";break}else n+="; "+R(r);e++}return n+"]"}function R(t,e=0){var n;if(t!=null&&typeof t=="object"){if(typeof t.toString=="function")return t.toString();if(Symbol.iterator in t)return ye(t);{const r=(n=Object.getPrototypeOf(t))==null?void 0:n.constructor;return r===Object&&e<10?"{ "+Object.entries(t).map(([o,s])=>o+" = "+R(s,e+1)).join(`
  `)+" }":(r==null?void 0:r.name)??""}}return String(t)}function we(t){const e={},n=Object.keys(t);for(let r=0;r<n.length;r++)e[n[r]]=t[n[r]];return e}function Ee(t){return"{ "+Object.entries(t).map(([e,n])=>e+" = "+R(n)).join(`
  `)+" }"}function _e(t){const e=Object.values(t).map(n=>et(n));return ht(e)}function Ce(t,e){if(t===e)return!0;if(Lt(t,e)){const n=Object.keys(t);for(let r=0;r<n.length;r++)if(!x(t[n[r]],e[n[r]]))return!1;return!0}else return!1}function ve(t,e){if(t===e)return 0;if(Lt(t,e)){const n=Object.keys(t);for(let r=0;r<n.length;r++){const o=j(t[n[r]],e[n[r]]);if(o!==0)return o}return 0}else return-1}class mt{toJSON(){return we(this)}toString(){return Ee(this)}GetHashCode(){return _e(this)}Equals(e){return Ce(this,e)}CompareTo(e){return ve(this,e)}}class Se{get contents(){return this.getter()}set contents(e){this.setter(e)}constructor(e,n){typeof n=="function"?(this.getter=e,this.setter=n):(this.getter=()=>e,this.setter=r=>{e=r})}}const W=Symbol("numeric");function Ie(t){return typeof t=="number"||typeof t=="bigint"||(t==null?void 0:t[W])}function xe(t,e){return typeof t=="number"||typeof t=="bigint"?t<e?-1:t>e?1:0:t.CompareTo(e)}function Ne(t,e){return typeof t=="number"?t*e:typeof t=="bigint"?t*BigInt(e):t[W]().multiply(e)}function Te(t,e){return typeof t=="number"?t.toFixed(e):typeof t=="bigint"?t:t[W]().toFixed(e)}function Nt(t,e){return typeof t=="number"?t.toPrecision(e):typeof t=="bigint"?t:t[W]().toPrecision(e)}function Tt(t,e){return typeof t=="number"?t.toExponential(e):typeof t=="bigint"?t:t[W]().toExponential(e)}function Mt(t){return typeof t=="number"?(Number(t)>>>0).toString(16):typeof t=="bigint"?BigInt.asUintN(64,t).toString(16):t[W]().toHex()}function Me(t){const e=t<0;t=Math.abs(t);const n=~~(t/36e5),r=t%36e5/6e4;return(e?"-":"+")+St(n,2)+":"+St(r,2)}function Ae(t,e){return new Date(t.getTime()+(t.offset??0)).toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+Me(t.offset??0)}function Oe(t,e){return t.kind===1?t.toUTCString():t.toLocaleString()}function Pe(t,e,n){return t.offset!=null?Ae(t):Oe(t)}const J=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g;function Le(t,e){return xe(t,e)<0}function U(t){return{input:t,cont:ke(t)}}function Be(t,e){return typeof e=="string"?t(e):e.cont(t)}function tt(t){return Be(e=>e,t)}function Fe(t,e,n,r,o){let s="";if(e=e||"",o=o||"",Ie(t))switch(o.toLowerCase()!=="x"&&(Le(t,0)?(t=Ne(t,-1),s="-"):e.indexOf(" ")>=0?s=" ":e.indexOf("+")>=0&&(s="+")),r=r==null?null:parseInt(r,10),o){case"f":case"F":r=r??6,t=Te(t,r);break;case"g":case"G":t=r!=null?Nt(t,r):Nt(t);break;case"e":case"E":t=r!=null?Tt(t,r):Tt(t);break;case"x":t=Mt(t);break;case"X":t=Mt(t).toUpperCase();break;default:t=String(t);break}else t instanceof Date?t=Pe(t):t=R(t);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))t=s+t;else{const i=e.indexOf("0")>=0,c=e.indexOf("-")>=0,a=c||!i?" ":"0";a==="0"?(t=At(t,n-s.length,a,c),t=s+t):t=At(s+t,n,a,c)}return t}function jt(t,e,n,r="",o=-1){return(...s)=>{let i=r;const c=e.slice(),a=n.slice();for(const u of s){const[,,f,d,h,g]=a[0];let w=d;if(o>=0)w=o,o=-1;else if(w==="*"){if(u<0)throw new Error("Non-negative number required");o=u;continue}i+=c[0],i+=Fe(u,f,w,h,g),c.splice(0,1),a.splice(0,1)}return a.length===0?(i+=c[0],t(i)):jt(t,c,a,i,o)}}function ke(t){return e=>{J.lastIndex=0;const n=[],r=[];let o=0,s=J.exec(t);for(;s;){const i=s.index+(s[1]||"").length;n.push(t.substring(o,i).replace(/%%/g,"%")),r.push(s),o=J.lastIndex,J.lastIndex-=1,s=J.exec(t)}return n.length===0?e(t.replace(/%%/g,"%")):(n.push(t.substring(o).replace(/%%/g,"%")),jt(e,n,r))}}function je(t,e){return Array.isArray(e)?e.join(t):Array.from(e).join(t)}function At(t,e,n,r){n=n||" ",e=e-t.length;for(let o=0;o<e;o++)t=r?t+n:n+t;return t}class G{constructor(e){this.value=e}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return et(this.value)}Equals(e){return e==null?!1:x(this.value,e instanceof G?e.value:e)}CompareTo(e){return e==null?1:j(this.value,e instanceof G?e.value:e)}}function y(t){if(t==null)throw new Error("Option has no value");return t instanceof G?t.value:t}function q(t){return t==null||t instanceof G?new G(t):t}const He="The index was outside the range of elements in the collection.",Ht="Collection was empty.";function pt(t,e){return new Array(e)}function ze(t,e){if(t!=null&&/\S/.test(t)){const n=+t.replace("_","");if(!Number.isNaN(n))return e.contents=n,!0}return!1}function De(t){const e=new Se(0);if(ze(t,e))return e.contents;throw new Error(`The input string ${t} was not in a correct format.`)}function V(t,e,n,r){const o=e|0;return t.fill(r,o,o+n)}function Re(t,e,n){const r=e.length|0,o=pt(n,r);for(let s=0;s<=r-1;s++)gt(o,s,t(s,l(s,e)));return o}function Ge(t,e){const n=pt(e,1);return gt(n,0,t),n}function z(t,e,n){if(t<0)throw new Error("The input must be non-negative\\nParameter name: count");const r=pt(n,t);for(let o=0;o<=t-1;o++)gt(r,o,e(o));return r}function at(t,e,n,r,o){be(t,e,n,r,o)}function zt(t,e,n){const r=e.slice();return r.sort((o,s)=>n.Compare(t(o),t(s))),r}function l(t,e){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return e[t]}function gt(t,e,n){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");t[e]=n}class Dt extends mt{constructor(e,n){super(),this.head=e,this.tail=n}toString(){return"["+je("; ",this)+"]"}Equals(e){const n=this;return n===e?!0:((o,s)=>{t:for(;;){const i=o,c=s,a=i.tail,u=c.tail;if(a!=null)if(u!=null){const f=y(a),d=y(u);if(x(i.head,c.head)){o=f,s=d;continue t}else return!1}else return!1;else return u==null}})(n,e)}GetHashCode(){return((r,o,s)=>{t:for(;;){const i=r,c=o,a=s,u=a.tail;if(u!=null){const f=y(u);if(i>18)return c|0;r=i+1,o=(c<<1)+et(a.head)+631*i,s=f;continue t}else return c|0}})(0,0,this)|0}toJSON(){const e=this;return Array.from(e)}CompareTo(e){return((o,s)=>{t:for(;;){const i=o,c=s,a=i.tail,u=c.tail;if(a!=null)if(u!=null){const f=y(a),d=y(u),h=j(i.head,c.head)|0;if(h===0){o=f,s=d;continue t}else return h|0}else return 1;else return u!=null?-1:0}})(this,e)|0}GetEnumerator(){return Ve(this)}[Symbol.iterator](){return dt(C(this))}"System.Collections.IEnumerable.GetEnumerator"(){return C(this)}}class qe{constructor(e){this.xs=e,this.it=this.xs,this.current=O()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const e=this,n=e.it.tail;if(n!=null){const r=y(n);return e.current=e.it.head,e.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const e=this;e.it=e.xs,e.current=O()}Dispose(){}}function Ve(t){return new qe(t)}function bt(){return new Dt(O(),void 0)}function yt(t,e){return new Dt(t,e)}function $e(t){return t.tail==null}function We(t){return((n,r)=>{t:for(;;){const o=n,i=r.tail;if(i!=null){n=o+1,r=y(i);continue t}else return o|0}})(0,t)|0}function Qe(t){if(t.tail!=null)return t.head;throw new Error(Ht+"\\nParameter name: list")}function Ze(t){const e=t.tail;if(e!=null)return y(e);throw new Error(Ht+"\\nParameter name: list")}function Xe(t,e){return((r,o)=>{t:for(;;){const s=r,i=o,c=i.tail;if(c!=null){if(s===e)return i.head;r=s+1,o=y(c);continue t}else throw new Error(He+"\\nParameter name: index")}})(0,t)}function Rt(){return bt()}function Gt(t,e){return yt(t,e)}function Je(t){return yt(t,bt())}function qt(t){return We(t)}function Ke(t){return Qe(t)}function Ye(t,e,n){let r=e,o=n;for(;!$e(o);)r=t(r,Ke(o)),o=Ze(o);return r}function Ue(t,e){Ye((n,r)=>{t(r)},void 0,e)}function tn(t,e){let n=e;for(let r=t.length-1;r>=0;r--)n=yt(l(r,t),n);return n}function en(t){return tn(t,bt())}function nn(t,e){return Xe(e,t)}const rn="Enumeration already finished.",on="Enumeration has not started. Call MoveNext.",sn="Reset is not supported on this enumerator.";function ln(){throw new Error(sn)}function Vt(){throw new Error(on)}function Ot(){throw new Error(rn)}class cn{constructor(e){this.f=e}toString(){const e=this;let n=0,r="seq [";const o=C(e);try{for(;n<4&&o["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+R(o["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{M(o)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return dt(C(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function an(t){return new cn(t)}class un{constructor(e,n,r){this.current=e,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){ln()}Dispose(){this.dispose()}}function $t(t,e,n){return new un(t,e,n)}function fn(t){let e,n,r=!1,o=!1,s;const i=()=>{if(o=!0,n!=null){const c=y(n);try{M(c)}finally{n=void 0}}if(e!=null){const c=y(e);try{M(c)}finally{e=void 0}}};return $t(()=>(r?o&&Ot():Vt(),s!=null?y(s):Ot()),()=>{let c;if(r||(r=!0),o)return!1;{let a;for(;a==null;){const u=e,f=n;if(u!=null)if(f!=null){const d=y(f);if(d["System.Collections.IEnumerator.MoveNext"]())s=q(d["System.Collections.Generic.IEnumerator`1.get_Current"]()),a=!0;else try{M(d)}finally{n=void 0}}else{const d=y(u);d["System.Collections.IEnumerator.MoveNext"]()?n=(c=d["System.Collections.Generic.IEnumerator`1.get_Current"](),C(c)):(i(),a=!1)}else e=C(t)}return y(a)}},()=>{o||i()})}function dn(t,e){let n,r=e;return $t(()=>{if(n!=null){const o=y(n)[0];return y(n)[1],o}else return Vt()},()=>(n=t(r),n!=null?(y(n)[0],r=y(n)[1],!0):!1),()=>{})}function wt(t){return an(t)}function D(t){return wt(()=>C(t()))}function Wt(t){return wt(()=>fn(t))}function Qt(t,e){return wt(()=>dn(t,e))}function hn(){return D(()=>new Array(0))}function mn(t){return D(()=>Ge(t))}function pn(t,e){return Wt([t,e])}function gn(t,e){return Wt(Qt(n=>t()?[e,n+1]:void 0,0))}function bn(t,e,n,r){const o=j(t,n)|0;if(o===0)throw new Error("The step of a range cannot be zero");const s=o>0;return i=>{const c=j(i,e)|0;return s&&c<=0||!s&&c>=0?[i,r(i,t)]:void 0}}function yn(t,e,n,r,o){const s=bn(e,n,r,o);return D(()=>Qt(s,t))}function Pt(t,e,n){return yn(t,e,n,0,(r,o)=>r+o)}function wn(){return Math.random()}function ut(t,e){if(e<t)throw new Error("minValue must be less than maxValue");return Math.floor(Math.random()*(e-t))+t}function En(t){if(t==null)throw new Error("Buffer cannot be null");for(let e=0;e<t.length;e+=6){let n=Math.floor(Math.random()*281474976710656);const r=Math.floor(n/16777216);for(let o=0;o<6&&e+o<t.length;o++)o===3&&(n=r),t[e+o]=n&255,n>>>=8}}class _n{constructor(){}Next0(){return ut(0,2147483647)}Next1(e){return ut(0,e)}Next2(e,n){return ut(e,n)}NextDouble(){return wn()}NextBytes(e){En(e)}}function Cn(){return new _n}function Zt(){return Cn()}class vn{constructor(e,n){this.contents=e,this.count=n|0,this.head=0,this.tail=(n===this.contents.length?0:n)|0}GetEnumerator(){return C(Tn(this))}[Symbol.iterator](){return dt(C(this))}"System.Collections.IEnumerable.GetEnumerator"(){return C(this)}}function Sn(t,e){return new vn(t,e)}function In(t){return Sn(V(new Array(t),0,t,null),0)}function Xt(){return In(4)}function Jt(t){return t.count}function it(t,e){t.count===F(t)&&Nn(t,t.count+1),t.contents[t.tail]=e,t.tail=(t.tail+1)%F(t)|0,t.count=t.count+1|0}function Kt(t){if(t.count===0)throw new Error("Queue is empty");const e=l(t.head,t.contents);return t.head=(t.head+1)%F(t)|0,t.count=t.count-1|0,e}function F(t){return t.contents.length}function xn(t,e){return(t.head+e)%F(t)}function Nn(t,e){const n=V(new Array(e),0,e,null);t.head<t.tail?at(t.contents,t.head,n,0,t.count):(at(t.contents,t.head,n,0,F(t)-t.head),at(t.contents,0,n,F(t)-t.head,t.tail)),t.head=0,t.contents=n,t.tail=(t.count===F(t)?0:t.count)|0}function Tn(t){return D(()=>{let e=0;return gn(()=>e<t.count,D(()=>pn(mn(l(xn(t,e),t.contents)),D(()=>(e=e+1|0,hn())))))})}function Mn(t){const e=document.createElement("canvas");return e.className="border border-blue-300 bg-white",e.id="perceptron-canvas",e.width=700,e.height=500,e.addEventListener("click",n=>{const r=n,o=e.getBoundingClientRect(),s=r.clientX-o.left,i=r.clientY-o.top,c=e.width,a=e.height,u=s/c*2-1,f=-(i/a*2-1);t([u,f,0])}),e.addEventListener("contextmenu",n=>{n.preventDefault();const r=n,o=e.getBoundingClientRect(),s=r.clientX-o.left,i=r.clientY-o.top,c=e.width,a=e.height,u=s/c*2-1,f=-(i/a*2-1);t([u,f,1])}),e}function An(){const t=document.createElement("div");t.className="relative w-full flex items-center justify-center h-16 bg-white mb-4";const e=document.createElement("h1");e.className="text-3xl font-bold text-blue-700",e.textContent="AI Playground: Perceptron & Maze Solver";const n=document.createElement("button");return n.className="absolute right-6 top-1/2 transform -translate-y-1/2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 shadow",n.textContent="Help",n.id="btn-help",t.appendChild(e),t.appendChild(n),t}function On(){const t=document.createElement("div");t.className="flex flex-col md:flex-row gap-6 items-start justify-center w-full max-w-6xl";const e=document.createElement("div");return e.className="bg-white border shadow rounded p-4 w-64 text-sm",e.id="metrics-container",e.innerHTML=`\r
        <h2 class="font-semibold mb-2">Confusion Matrix</h2>\r
        <table class="table-auto text-sm text-center w-full border">\r
            <thead>\r
                <tr>\r
                    <th></th>\r
                    <th>Pred 0</th>\r
                    <th>Pred 1</th>\r
                </tr>\r
            </thead>\r
            <tbody>\r
                <tr>\r
                    <th>Actual 0</th>\r
                    <td class="border">TN<br><strong>0</strong></td>\r
                    <td class="border">FP<br><strong>0</strong></td>\r
                </tr>\r
                <tr>\r
                    <th>Actual 1</th>\r
                    <td class="border">FN<br><strong>0</strong></td>\r
                    <td class="border">TP<br><strong>0</strong></td>\r
                </tr>\r
            </tbody>\r
        </table>\r
        <div id="training-log" class="text-xs whitespace-pre-wrap font-mono bg-white p-2 border rounded mt-4 max-h-48 overflow-y-auto"></div>\r
    `,t.appendChild(e),t}function Pn(){const t=document.createElement("div");t.className="w-full max-w-4xl flex flex-col md:flex-row gap-4";const e=document.createElement("div");e.className="flex-1 bg-white p-4 rounded shadow border border-gray-300 flex flex-col gap-2";const n=document.createElement("button");n.className="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",n.textContent="Train",n.id="btn-train";const r=document.createElement("button");r.className="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",r.textContent="Reset",r.id="btn-reset";const o=document.createElement("button");o.className="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",o.textContent="Random weight",o.id="btn-random";const s=document.createElement("input");s.setAttribute("type","file"),s.setAttribute("accept",".csv"),s.className="px-2 py-1 border rounded text-sm",s.id="csv-input",Ue(a=>{e.appendChild(a)},en([n,r,o,s]));const i=document.createElement("div");i.className="flex-1 bg-white p-4 rounded shadow border border-gray-300",i.id="settings-box";const c=`\r
    <div class="text-sm text-gray-800 space-y-2">\r
      <label class="block">\r
        <span class="text-gray-600 font-medium">Learning rate: <span id="lr-display">0.1</span></span>\r
        <input id="learning-rate-input" type="range" step="0.01" min="0.01" max="1" value="0.1"\r
          class="mt-1 block w-full cursor-pointer" oninput="document.getElementById('lr-display').innerText = this.value" />\r
      </label>\r
      <div id="weights-display" class="pt-2"></div>\r
    </div>\r
    `;return i.innerHTML=c,t.appendChild(e),t.appendChild(i),t}class Ln extends mt{constructor(e,n,r){super(),this.X=e,this.Y=n,this.Class=r|0}}let $=P(Rt()),_=P(new Float64Array([.5,.5])),B=P(0),Yt=P(.1),K=P(!1),st=P(!1),A=P([new Int32Array([0])]),Et=P([0,0]),_t=P([0,0]);function Bn(){const t=document.getElementById("learning-rate-input");if(t!=null){const e=t;e.addEventListener("input",n=>{const r=De(e.value);Number.isNaN(r)||Yt(r)})}else console.warn(q("‚ö†Ô∏è learning-rate-input –Ω–µ –Ω–∞–π–¥–µ–Ω"))}function nt(){let t,e,n;const r=document.getElementById("weights-display");x(r,O())||(r.innerHTML=(t=l(0,_()),e=l(1,_()),n=B(),tt(U(`\r
            <div><strong>w0:</strong> %.4f</div>\r
            <div><strong>w1:</strong> %.4f</div>\r
            <div><strong>bias:</strong> %.4f</div>\r
            `))(t)(e)(n)))}function Fn(){let t=0,e=0,n=0,r=0;const o=C($());try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const s=o["System.Collections.Generic.IEnumerator`1.get_Current"](),i=new Float64Array([s.X,s.Y]),a=(l(0,i)*l(0,_())+l(1,i)*l(1,_())+B()>=0?1:0)|0,u=s.Class|0;let f;switch(u){case 0:{switch(a){case 0:{f=1;break}case 1:{f=2;break}default:f=4}break}case 1:{switch(a){case 0:{f=3;break}case 1:{f=0;break}default:f=4}break}default:f=4}switch(f){case 0:{t=t+1|0;break}case 1:{e=e+1|0;break}case 2:{n=n+1|0;break}case 3:{r=r+1|0;break}}}}finally{M(o)}return[t,n,r,e]}function rt(){const t=document.getElementById("metrics-container");if(!x(t,O())){const e=Fn(),n=e[0]|0,r=e[3]|0,o=e[1]|0,s=e[2]|0,i=`
            <h2 class="font-semibold mb-2">Confusion Matrix</h2>
            <table class="table-auto text-sm text-center w-full border">
                <thead>
                    <tr>
                        <th></th>
                        <th>Pred 0</th>
                        <th>Pred 1</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th>Actual 0</th>
                        <td class="border">TN<br><strong>${r}</strong></td>
                        <td class="border">FP<br><strong>${o}</strong></td>
                    </tr>
                    <tr>
                        <th>Actual 1</th>
                        <td class="border">FN<br><strong>${s}</strong></td>
                        <td class="border">TP<br><strong>${n}</strong></td>
                    </tr>
                </tbody>
            </table>
            `,c=t.querySelector("#confusion-table");if(c==null){const a=document.createElement("div");a.id="confusion-table",a.innerHTML=i,t.innerHTML="",t.appendChild(a);const u=document.createElement("div");u.id="training-log",u.className="text-xs whitespace-pre-wrap font-mono bg-white p-2 border rounded mt-4 max-h-48 overflow-y-auto",t.appendChild(u)}else c.innerHTML=i}}function kn(t){const e=document.getElementById("training-log");x(e,O())||(e.innerHTML=e.innerHTML+t+"<br>")}function jn(){const t=document.getElementById("perceptron-canvas"),e=t.getContext("2d"),n=l(0,_()),r=l(1,_()),o=n;if(r!==0){const s=g=>-(o/r)*g-B()/r,i=g=>{const w=g[0],v=g[1],N=(w+1)/2*t.width,b=(1-(v+1)/2)*t.height;return[N,b]},c=i([-1,s(-1)]),a=c[1],u=c[0],f=i([1,s(1)]),d=f[1],h=f[0];e.beginPath(),e.moveTo(u,a),e.lineTo(h,d),e.strokeStyle="black",e.lineWidth=2,e.stroke()}}function lt(){let t,e;const n=document.getElementById("perceptron-canvas"),r=n.getContext("2d"),o=~~n.width|0,s=~~n.height|0,i=4;r.clearRect(0,0,n.width,n.height);const c=C(Pt(0,i,o-1));try{for(;c["System.Collections.IEnumerator.MoveNext"]();){const u=c["System.Collections.Generic.IEnumerator`1.get_Current"]()|0,f=C(Pt(0,i,s-1));try{for(;f["System.Collections.IEnumerator.MoveNext"]();){const d=f["System.Collections.Generic.IEnumerator`1.get_Current"]()|0,h=u/o*2-1,g=-(d/s*2-1),w=h*l(0,_())+g*l(1,_())+B(),v=1/(1+Math.exp(-w));r.fillStyle=v>=.5?tt(U("rgba(220,38,38,%.2f)"))(v):(t=1-v,tt(U("rgba(37,99,235,%.2f)"))(t)),r.fillRect(u,d,i,i)}}finally{M(f)}}}finally{M(c)}const a=C($());try{for(;a["System.Collections.IEnumerator.MoveNext"]();){const u=a["System.Collections.Generic.IEnumerator`1.get_Current"](),f=(u.X+1)/2*n.width,d=(1-(u.Y+1)/2)*n.height;r.beginPath(),r.arc(f,d,5,0,2*3.141592653589793),r.fillStyle=(e=u.Class|0,e===0?"#2563eb":e===1?"#dc2626":"#000000"),r.fill()}}finally{M(a)}jn()}class Hn extends mt{constructor(e,n){super(),this.visited=e,this.walls=n}}function Ut(t,e){const n=Zt(),r=z(t,b=>z(e,E=>new Hn(!1,[!0,!0,!0,!0]))),o=[[0,-1],[-1,0],[0,1],[1,0]],s=[[3,1],[0,2],[1,3],[2,0]],i=()=>zt(b=>n.Next0(),o,{Compare:kt}),c=(b,E)=>{l(E,l(b,r)).visited=!0;const S=Re((m,p)=>{const H=p[0]|0,Z=p[1]|0;return[m,H,Z]},i());for(let m=0;m<=S.length-1;m++){const p=l(m,S),H=p[0]|0,Z=p[1]|0,T=p[2]|0,I=b+Z|0,X=E+T|0;if(I>=0&&X>=0&&I<t&&X<e&&!l(X,l(I,r)).visited){const ne=l(H,s);l(E,l(b,r)).walls[H]=!1,l(X,l(I,r)).walls[ne[1]]=!1,c(I,X)}}};c(0,0);const a=z(t,b=>V(new Int32Array(e),0,e,-1)),u=Xt();it(u,[0,0]),l(0,a)[0]=0;let f=[0,0];for(;Jt(u)>0;){const b=Kt(u),E=b[0]|0,S=b[1]|0;for(let m=0;m<=3;m++){const p=l(m,o),H=p[0]|0,Z=p[1]|0,T=E+H|0,I=S+Z|0;T>=0&&I>=0&&T<t&&I<e&&!l(m,l(S,l(E,r)).walls)&&l(I,l(T,a))===-1&&(l(T,a)[I]=l(S,l(E,a))+1|0,it(u,[T,I]),l(I,l(T,a))>l(f[1],l(f[0],a))&&(f=[T,I]))}}const d=t*2+1|0,h=z(d,b=>V(new Int32Array(d),0,d,1));for(let b=0;b<=t-1;b++)for(let E=0;E<=e-1;E++){const S=l(E,l(b,r)),m=b*2+1|0,p=E*2+1|0;l(m,h)[p]=0,l(0,S.walls)||(l(m-1,h)[p]=0),l(1,S.walls)||(l(m,h)[p+1]=0),l(2,S.walls)||(l(m+1,h)[p]=0),l(3,S.walls)||(l(m,h)[p-1]=0)}const g=[d-2,1],w=f[0]|0,v=f[1]|0,N=[w*2+1,v*2+1];return l(g[0],h)[g[1]]=0,l(N[0],h)[N[1]]=0,[h,g,N]}const Ct=Ut(20,35),zn=Ct[1],Dn=Ct[0],Rn=Ct[2];A(Dn);Et(zn);_t(Rn);function te(){const t=document.getElementById("maze-canvas"),e=t.getContext("2d"),n=A().length|0,r=l(0,A()).length|0,o=t.width/r;e.clearRect(0,0,t.width,t.height);for(let s=0;s<=n-1;s++)for(let i=0;i<=r-1;i++){const c=i*o,a=s*o;l(i,l(s,A()))===1?e.fillStyle="#000000":e.fillStyle="#ffffff",e.fillRect(c,a,o,o),e.strokeStyle="#cccccc",e.strokeRect(c,a,o,o)}e.fillStyle="limegreen",e.beginPath(),e.arc(o/2,o/2,o/3,0,2*3.141592653589793),e.fill()}function Gn(t,e){const n=t.getContext("2d"),r=t.width/l(0,A()).length,o=s=>{if(s<qt(e)){const i=nn(s,e),c=i[0]|0,u=(i[1]|0)*r+r/2,f=c*r+r/2;n.fillStyle="limegreen",n.beginPath(),n.arc(u,f,r/4,0,2*3.141592653589793),n.fill(),window.setTimeout(()=>{o(s+1)},100)}};o(0)}function qn(){if(st())console.warn(q("Maze is currently being solved."));else{st(!0);const t=document.getElementById("maze-canvas");t.getContext("2d");const e=A().length|0,n=l(0,A()).length|0,r=Et(),o=_t(),s=z(e,h=>V(new Array(n),0,n,!1)),i=z(e,h=>V(new Array(n),0,n,void 0)),c=Xt();it(c,r),l(r[0],s)[r[1]]=!0;const a=[[0,-1],[-1,0],[0,1],[1,0]],u=Zt(),f=()=>zt(h=>u.Next0(),a,{Compare:kt});let d=!1;for(;Jt(c)>0&&!d;){const h=Kt(c),g=h[0]|0,w=h[1]|0,v=f();for(let N=0;N<=v.length-1;N++){const b=l(N,v),E=b[0]|0,S=b[1]|0,m=g+E|0,p=w+S|0;m>=0&&p>=0&&m<e&&p<n&&l(p,l(m,A()))===0&&!l(p,l(m,s))&&(l(m,s)[p]=!0,l(m,i)[p]=[g,w],it(c,[m,p]),ft([m,p],o)&&(d=!0))}}if(d){let h=Je(o),g=o;for(;!ft(g,r);){const w=l(g[1],l(g[0],i));if(w==null)throw new Error("No path");{const v=w;h=Gt(v,h),g=v}}Gn(t,h),window.setTimeout(()=>{st(!1)},qt(h)*100+200)}else console.warn(q("No path found")),st(!1)}}function Vn(t,e,n){$(Gt(new Ln(t,e,n),$())),lt(),nt(),rt()}function ee(t){let e,n,r,o=!1;const s=C($());try{for(;s["System.Collections.IEnumerator.MoveNext"]();){const i=s["System.Collections.Generic.IEnumerator`1.get_Current"](),c=new Float64Array([i.X,i.Y]),a=i.Class,f=l(0,c)*l(0,_())+l(1,c)*l(1,_())+B()>=0?1:0,d=a-f;if(d!==0){o=!0;const h=Yt();_()[0]=l(0,_())+h*d*l(0,c),_()[1]=l(1,_())+h*d*l(1,c),B(B()+h*d),kn((e=h*d*l(0,c),n=h*d*l(1,c),r=h*d,tt(U("Epoch %d: Œîw0 = %.4f, Œîw1 = %.4f, Œîb = %.4f"))(t)(e)(n)(r)))}}}finally{M(s)}if(lt(),nt(),rt(),o&&t<200)window.requestAnimationFrame(i=>{ee(t+1)});else{const i=o?"Training stopped after 200 epochs with some errors.":"Training completed successfully without errors!";window.alert(q(i))}}function $n(){if(K())qn();else{const t=document.getElementById("training-log");x(t,O())||(t.innerHTML=""),ee(0)}}function Wn(){const t=()=>Math.random()*2-1;_(new Float64Array([t(),t()])),B(t()),lt(),nt(),rt()}function Qn(){if(K()){const t=Ut(20,35),e=t[1],n=t[0],r=t[2];A(n),Et(e),_t(r),te()}else $(Rt()),lt(),nt(),rt()}function ct(t,e){const n=document.getElementById(t);n==null?console.warn(q(tt(U("Element with id '%s' not found"))(t))):n.addEventListener("click",r=>{e()})}function Zn(){const t=document.getElementById("help-modal");if(!x(t,O()))t.classList.contains("hidden")?t.classList.remove("hidden"):t.classList.add("hidden");else{const n=document.getElementById("btn-help").getBoundingClientRect(),r=document.createElement("div");r.id="help-modal",r.className="absolute bg-white rounded p-6 shadow-lg border w-[32rem] z-50 text-sm leading-relaxed",r.setAttribute("style",`top:${n.bottom+10}px;left:${n.left-320}px;`),r.innerHTML=`\r
            <h2 class="text-xl font-semibold mb-3">About this Project</h2>\r
<p>This interactive project demonstrates two classic AI approaches in action:</p>\r
\r
<h3 class="font-semibold mt-4">üß† Perceptron Mode</h3>\r
<p>A perceptron is a basic neural unit that learns to separate 2D points into two classes using linear boundaries.</p>\r
<ul class="list-disc list-inside mt-1">\r
  <li>Click on canvas to add blue (Class 0) or red (Class 1) points</li>\r
  <li>Train the perceptron to learn the boundary</li>\r
  <li>The decision boundary is shown as a black line</li>\r
  <li>The background color indicates prediction confidence</li>\r
</ul>\r
\r
<h3 class="font-semibold mt-4">üß© Maze Mode</h3>\r
<p>In this mode, an agent uses Breadth-First Search (BFS) to solve a procedurally generated maze.</p>\r
<ul class="list-disc list-inside mt-1">\r
  <li>Click <b>Train</b> to start pathfinding</li>\r
  <li>The green dot animates as it finds the path</li>\r
  <li>All mazes are guaranteed to have one valid solution</li>\r
</ul>\r
\r
<h3 class="font-semibold mt-4">üõ†Ô∏è Tech Stack</h3>\r
<ul class="list-disc list-inside mt-1">\r
  <li>F# + Fable (compiled to JavaScript)</li>\r
  <li>HTML Canvas</li>\r
  <li>Tailwind CSS</li>\r
</ul>\r
\r
<p class="mt-4">Made by Dmitrii Drugov ‚Äì HFAA90</p>\r
<button id="close-help" class="mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Close</button>\r
\r
            `,document.body.appendChild(r),r.querySelector("#close-help").addEventListener("click",s=>{r.classList.add("hidden")})}}const Xn=Mn(t=>{Vn(t[0],t[1],t[2])}),ot=document.createElement("canvas");ot.id="maze-canvas";(function(){ot.setAttribute("width","600")})();(function(){ot.setAttribute("height","400")})();ot.className="hidden border rounded bg-white";const Jn=An(),vt=On(),Kn=Pn(),Q=document.createElement("div");Q.className="min-h-screen bg-gray-100 flex flex-col items-center gap-4 pt-10 max-w-screen-xl w-full mx-auto overflow-x-hidden";vt.appendChild(Xn);vt.appendChild(ot);Q.appendChild(Jn);const k=document.createElement("button");k.textContent="Switch to Maze Mode";k.className="bg-gray-200 px-4 py-2 rounded border shadow hover:bg-gray-300";k.id="btn-switch-mode";k.addEventListener("click",t=>{K(!K());const e=document.getElementById("perceptron-canvas"),n=document.getElementById("maze-canvas");K()?(k.textContent="Switch to Perceptron Mode",e.classList.add("hidden"),n.classList.remove("hidden"),te()):(k.textContent="Switch to Maze Mode",n.classList.add("hidden"),e.classList.remove("hidden"))});Q.appendChild(k);Q.appendChild(vt);Q.appendChild(Kn);document.getElementById("root").appendChild(Q);ct("btn-train",()=>{$n()});ct("btn-reset",()=>{Qn()});ct("btn-random",()=>{Wn()});ct("btn-help",()=>{Zn()});Bn();nt();rt();
